# Sprint Plan — sprint_dec_2025-1 (01.12.2025–15.12.2025, Календарь и главная страница)

## 1. Цели спринта

- Реализовать основной календарь "как в Meta" на главной странице: API/сервис для работы с диапазонами дат и часов + UI‑компонент на два месяца.
- Настроить интеграцию календаря с фильтрами и таблицей броней.
- Улучшить UX календаря и фильтров: дефолтное время в календарной сетке по сценарию и дефолтные значения фильтров объектов и сценариев.
- Реализовать базовый поток оплаты в модалках: ограничение суммы оплатой остатком, интерактивный пересчёт «Остатка», история оплат и управление платежами (редактирование и отмена с понятным подтверждением и описанием последствий отмены).

Общий целевой объём спринта: ≈90 h.

---

## 2. Задачи спринта

### 2.1. Календарь: API и базовый UI‑компонент

- [High · 14 h · Not Started] Подготовить API/сервис для работы с диапазонами дат и часов работы объектов
- [High · 24 h · Not Started] Реализовать UI-компонент календаря на два месяца с навигацией и множественным выбором диапазона

**Итого по разделу 2.1:** 38 h

---

### 2.2. Календарь: диапазоны, сравнение и интеграция с таблицей

- [High · 14 h · Not Started] Интегрировать календарь с фильтрами и таблицей броней (передача выбранных диапазонов, обновление данных)
- [Medium · 1 h · Done] Дефолт фильтра объектов: первая запись
- [Medium · 1 h · Done] Дефолт фильтра сценариев: первая запись

**Итого по разделу 2.2:** 16 h  
Суммарно разделы 2.1–2.2: 54 h

---

### 2.3. Календарь и таблица броней

- [High · 3 h · Not Started] Дефолтное время в календаре = время работы сценария (кратно часу)

**Итого по разделу 2.3:** 3 h  
Суммарно разделы 2.1–2.3: 57 h

---

### 2.4. Оплаты и биллинг в модалках

- [High · 1 h · Done] Ограничить ввод суммы оплаты остатком к оплате по текущей брони
- [High · 2 h · Done] Модальное окно оплаты: анимация перехода кнопки «Внести оплату» в неактивное состояние «Оплачено» без исчезновения элемента (плавное затухание/проявление и изменение состояния кнопки)
- [Medium · 4 h · Done] Модальное окно истории оплат: фронтовый шаблон и базовая вёрстка отдельной модалки истории платежей, вызываемой из окна информации по брони
- [High · 5 h · Done] Модальное окно истории оплат: загрузка и отображение истории платежей по брони (дата, сумма, способ оплаты)
- [Medium · 3 h · Done] Модальное окно редактирования платежа: фронтовый шаблон и базовая вёрстка отдельной модалки редактирования платежа (поля суммы, способа оплаты и комментария)
- [High · 5 h · Done] Модальное окно редактирования платежа: функционал изменения параметров платежа (сумма, способ оплаты, комментарий) с валидацией и обновлением показателей «Внесено» и «Остаток» в истории платежей
- [High · 6 h · Done] Модальное окно истории оплат: функционал отмены отдельных платежей (смена статуса, перерасчёт «Внесено» и «Остаток», защита от повторной отмены)
- [High · 3 h · Not Started] Модальное окно оплаты: интерактивный пересчёт показателя «Остаток» при изменении сумм в полях ввода (мгновенное обновление блока «Стоимость / Внесено / Остаток» без перезагрузки модального окна)
- [Medium · 1 h · Done] Глобальный бэкдроп для модальных окон бронирований: устранение мерцания затемнения и закрытие модалок по клику по фону (кроме модального окна подтверждения отмены оплаты)
- [Medium · 0,25 h · Not Started] Модальное окно подтверждения отмены: запрет закрытия по клику вне границ окна (только по кнопкам)
- [Medium · 2 h · Not Started] Подтверждение отмены платежа через модальное окно подтверждения отмены с кастомным текстом и описанием последствий для оплаты

**Итого по разделу 2.4:** 33,25 h  
Суммарно разделы 2.1–2.4: 90,25 h

---

## 3. Итог спринта

- Плановый объём спринта: **≈89,25 h**.
- Фокус: реализация основного календаря "как в Meta" (API + UI‑компонент), интеграция календаря с фильтрами и таблицей броней, а также базовая реализация потоков оплаты в модалках (ограничение суммы, интерактивный «Остаток», история оплат и управление платежами — редактирование и отмена платежей с подтверждением).
