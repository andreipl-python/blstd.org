# Sprint Plan — sprint_dec_2025-1 (01.12.2025–15.12.2025, Календарь и главная страница)

## 1. Цели спринта

- Реализовать основной календарь "как в Meta" на главной странице: API/сервис для работы с диапазонами дат и часов + UI‑компонент на два месяца.
- Настроить предустановленные диапазоны дат и интеграцию календаря с фильтрами и таблицей броней.
- Улучшить UX календарной сетки: дефолтное время по сценарию, визуальные статусы броней в сетке (полупрозрачность до подтверждения, всплывающее окно, индикатор комментария).
- Реализовать базовый поток оплаты в модалках: ограничение суммы оплатой остатком, интерактивный пересчёт «Остатка», история оплат и отмена платежей с подтверждением.

Общий целевой объём спринта: ≈90 h.

---

## 2. Задачи спринта

### 2.1. Календарь: API и базовый UI‑компонент

- [High · 14 h · Not Started] Подготовить API/сервис для работы с диапазонами дат и часов работы объектов
- [High · 24 h · Not Started] Реализовать UI-компонент календаря на два месяца с навигацией и множественным выбором диапазона

**Итого по разделу 2.1:** 38 h

---

### 2.2. Календарь: диапазоны, сравнение и интеграция с таблицей

- [Medium · 8 h · Not Started] Добавить предустановленные диапазоны (сегодня, 7 дней, месяц, настраиваемый диапазон)
- [High · 14 h · Not Started] Интегрировать календарь с фильтрами и таблицей броней (передача выбранных диапазонов, обновление данных)

**Итого по разделу 2.2:** 22 h  
Суммарно разделы 2.1–2.2: 60 h

---

### 2.3. Календарь и таблица броней

- [High · 3 h · Not Started] Дефолтное время в календаре = время работы сценария (кратно часу)
- [Medium · 0,5 h · Not Started] Полупрозрачное отображение броней в статусах до подтверждения в сетке календаря (50% прозрачность фона блока брони)
- [Medium · 3 h · Not Started] Всплывающее окно для забронированной ячейки в сетке календаря с краткой информацией о брони
- [Medium · 0,5 h · Not Started] Индикатор комментария: точка в правом верхнем углу блока брони, если у брони есть непустой комментарий

**Итого по разделу 2.3:** 7 h  
Суммарно разделы 2.1–2.3: 67 h

---

### 2.4. Оплаты и биллинг в модалках

- [High · 1 h · Done] Ограничить ввод суммы оплаты остатком к оплате по текущей брони
- [High · 2 h · Done] Модальное окно оплаты: анимация перехода кнопки «Внести оплату» в неактивное состояние «Оплачено» без исчезновения элемента (плавное затухание/проявление и изменение состояния кнопки)
- [Medium · 4 h · Not Started] Модальное окно истории оплат: фронтовый шаблон и базовая вёрстка отдельной модалки истории платежей, вызываемой из окна информации по брони
- [High · 5 h · Not Started] Модальное окно истории оплат: загрузка и отображение истории платежей по брони (дата, сумма, способ оплаты, пользователь/комментарий)
- [High · 6 h · Not Started] Модальное окно истории оплат: функционал отмены отдельных платежей (смена статуса, перерасчёт «Внесено» и «Остаток», защита от повторной отмены)
- [High · 3 h · Not Started] Модальное окно оплаты: интерактивный пересчёт показателя «Остаток» при изменении сумм в полях ввода (мгновенное обновление блока «Стоимость / Внесено / Остаток» без перезагрузки модального окна)
- [Medium · 1 h · Done] Глобальный бэкдроп для модальных окон бронирований: устранение мерцания затемнения и закрытие модалок по клику по фону (кроме модального окна подтверждения отмены оплаты)
- [Medium · 0,25 h · Not Started] Модальное окно подтверждения отмены: запрет закрытия по клику вне границ окна (только по кнопкам)

**Итого по разделу 2.4:** 22,25 h  
Суммарно разделы 2.1–2.4: 89,25 h

---

## 3. Итог спринта

- Плановый объём спринта: **≈89,25 h**.
- Фокус: реализация основного календаря "как в Meta" (API + UI‑компонент), работа с предустановленными диапазонами и интеграцией календаря с фильтрами и таблицей броней, а также базовая реализация потоков оплаты в модалках (ограничение суммы, интерактивный «Остаток», история оплат и отмена платежей).
