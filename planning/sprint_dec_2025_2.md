# Sprint Plan — sprint_dec_2025_2 (16.12.2025–31.12.2025, модалки/календарь: доработки + база доступности специалистов)

## 1. Цели спринта

- Привести модалки создания/редактирования брони к единому поведению ошибок: красный стиль, корректные визуальные состояния, предсказуемые сообщения.
- Подготовить полноценную основу доступности специалистов: модель расписания, пересчёт доступности и правило недоступности «специалист бронирует под себя».
- Подготовить основу моделек/потоков для разных сценариев бронирования (шаблоны модалок, подстановка по сценарию, удаления/обратная связь).
- Улучшить UX оплат (интерактивный «Остаток», обратная связь) и добавить минимальные улучшения информативности календаря.

Общий целевой объём спринта: ≈90 h.

---

## 2. Задачи спринта

### 2.1. Модальные окна: клиенты, абонементы, брони, оплаты

- [High · 2 h · Done] Шаблон модального окна добавления клиента
- [Medium · 1 h · Done] Перенос дизайна модального окна добавления клиента из Figma
- [Medium · 1 h · Done] Шаблон модального окна обратной связи после добавления клиента
- [Medium · 1 h · Done] Перенос дизайна модального окна обратной связи после добавления клиента из Figma
- [Medium · 2 h · Done] Видоизменённый шаблон модального окна добавления брони для сценария «Репетиционная точка»
- [Medium · 2 h · Done] Видоизменённый шаблон модального окна добавления брони для сценария «Музыкальный класс»
- [Medium · 1 h · Done] Шаблон модального окна обратной связи после добавления брони
- [Medium · 1 h · Done] Перенос дизайна модального окна обратной связи после добавления брони из Figma
- [Medium · 2 h · Done] Видоизменённый шаблон модального окна информации о брони для сценария «Репетиционная точка»
- [Medium · 2 h · Done] Видоизменённый шаблон модального окна информации о брони для сценария «Музыкальный класс»
- [Medium · 2 h · Done] Видоизменённый шаблон модального окна редактирования брони для сценария «Репетиционная точка»
- [Medium · 2 h · Done] Видоизменённый шаблон модального окна редактирования брони для сценария «Музыкальный класс»
- [High · 2 h · Done] Дизайн модального окна удаления брони
- [High · 2 h · Done] Шаблон модального окна удаления брони
- [Medium · 1 h · Done] Шаблон модального окна обратной связи после удаления брони
- [Medium · 1 h · Done] Перенос дизайна модального окна обратной связи после удаления брони из Figma
- [Medium · 1 h · Done] Шаблон модального окна обратной связи после внесения оплаты
- [Medium · 1 h · Done] Перенос дизайна модального окна обратной связи после внесения оплаты из Figma
- [High · 2 h · Done] Единый стиль предупреждений/ошибок в модалках создания/редактирования брони: красный текст
- [High · 2 h · Done] Единый стиль предупреждений/ошибок в модалках создания/редактирования брони: красная рамка полей
- [Medium · 0,5 h · Done] В модалках создания/редактирования брони: предупреждение о не выбранной длительности (текст/расположение/визуальные состояния)
- [Medium · 1 h · Done] Селект преподавателя: плейсхолдер «Нет доступных преподавателей» + disabled состояние (включая визуальные состояния)

**Итого по разделу 2.1:** 32,5 h

---

### 2.2. Бронирования и расписание

- [High · 6 h · Done] В модалках создания и редактирования брони при изменении даты пересчитывать доступное время начала, длительность и окончание с учётом расписания сценария/объекта
- [High · 4 h · Done] Функционал подстановки нужного модального окна добавления брони в зависимости от выбранного сценария («Репетиционная точка» / «Музыкальный класс»)
- [High · 4 h · Done] Функционал подстановки нужного модального окна информации о брони в зависимости от сценария брони
- [High · 4 h · Done] Функционал подстановки нужного модального окна редактирования брони в зависимости от сценария брони
- [Medium · 2 h · Done] Функционал модального окна обратной связи после добавления брони
- [High · 3 h · Done] Функционал модального окна удаления брони (удаление, валидации, обновление календаря)
- [Medium · 2 h · Done] Функционал модального окна обратной связи после удаления брони
- [High · 6 h · Done] Специалисты: модель расписания работы специалиста с возможностью нескольких интервалов в один день (БД/миграция/админка)
- [High · 8 h · Done] Специалисты: пересчёт доступности на основе расписания (интервалы в рамках дня) и интеграция в проверки доступности брони
- [Medium · 2 h · Done] Специалисты: правило недоступности при бронировании специалистом «под себя как клиент»

**Итого по разделу 2.2:** 41 h

---

### 2.3. Оплаты и биллинг

- [High · 3 h · Done] Модальное окно оплаты: интерактивный пересчёт показателя «Остаток» при изменении сумм в полях ввода (мгновенное обновление блока «Стоимость / Внесено / Остаток» без перезагрузки модального окна)
- [Medium · 2 h · Done] Функционал модального окна обратной связи после внесения оплаты

**Итого по разделу 2.3:** 5 h

---

### 2.4. Клиенты

- [High · 4 h · Done] Функционал добавления клиента (валидации, сохранение, интеграция с календарём/бронями)
- [Medium · 1 h · Done] Отмена добавления клиента через существующее модальное окно подтверждения отмены действия
- [Medium · 2 h · Done] Функционал модального окна обратной связи после добавления клиента

**Итого по разделу 2.4:** 7 h

---

### 2.5. Календарь и таблица: информативность и визуальные статусы

- [Medium · 0,5 h · Planned] Полупрозрачное отображение броней в статусах до подтверждения в сетке календаря (50% прозрачность фона блока брони)
- [Medium · 3 h · Planned] Всплывающее окно для забронированной ячейки в сетке календаря с краткой информацией о брони
- [Medium · 0,5 h · Planned] Индикатор комментария: точка в правом верхнем углу блока брони, если у брони есть непустой комментарий
- [Medium · 0,5 h · Planned] Пресет «Текущие 14 дней (сегодня + 13 дней)» в попапе выбора диапазона дат

**Итого по разделу 2.5:** 4,5 h

---

**Суммарно по разделу 2:** 32,5 h + 41 h + 5 h + 7 h + 4,5 h = 90 h

## 3. Итог спринта

- Плановый объём спринта: **≈90 h**.
- Фокус: завершение и стабилизация набора модалок под разные сценарии бронирования (включая удаление и обратную связь), единый стиль ошибок/предупреждений в модалках брони, подготовка основы доступности специалистов (модель расписания + пересчёт + правило «специалист бронирует под себя»), улучшение UX оплат (интерактивный «Остаток» и обратная связь) и минимальные улучшения информативности календаря.
