# CRM Project Plan

## 1. UI/UX: Основные экраны и взаимодействия

- **Главная страница**
  - [High · Ожидание дизайнера] Дизайн календаря (ждём от дизайнера)

- **Календарь и таблица**
  - [High · 6 h · ожидание решения заказчика] Пошаговая загрузка календаря по дням вместо оверлея (моментальная отрисовка дня и его броней, затем следующих дней)

- **Модальные окна**
  - **Добавление абонемента**
    - [High · 2 h] Шаблон модального окна добавления абонемента
    - [Medium · 1 h] Перенос дизайна модального окна добавления абонемента из Figma
    - [High · 2 h] Сценарно‑зависимый шаблон модалки добавления абонемента (Музыкальная школа / Репетиционная точка / Музыкальный класс)
    - [Medium · 2 h] В модалке добавления абонемента для «Репетиционная точка» и «Музыкальный класс»: селект «Клиент/Группа» вместо «Клиент»
  - **Абонементы клиента (информация)**
    - [High · 2 h] Шаблон модального окна «Абонементы клиента» (список абонементов, пометка «групповой»)

## 2. Функциональность и бизнес-логика

- **Справочники и доступность (сценарии/комнаты/помещения/специалисты)**
  - [High · 6 h] Модель «Специалист»: роль (администратор/преподаватель/звукорежиссер/техник), миграция, формы/админка
  - [High · 4 h] Модель «Специалист»: M2M со сценариями + правила выборки/фильтрации специалистов по сценарию
  - [High · 12 h] Расписание специалистов (Backend): модель рабочих интервалов с привязкой к сценарию, допускающая пересечения между сценариями + API выдачи расписания на период
  - [High · 4 h] Расписание специалистов (Backend): endpoint/контракт для календаря (группы по ролям, фильтр по сценарию, диапазон дат)

- **Оплаты и биллинг**
  - [Medium · 3 h] В модальном окне оплаты: перенос финального дизайна блока «Итого» из Figma
  - [Medium · 1 h · после макета дизайна] Модальное окно истории оплат: перенос финального дизайна модалки из Figma
  - [High · 8 h] Функционал абонементов и тарифных единиц (модели, расчёт остатка, учёт списаний)
  - [High · 3 h] Оплата тарифными единицами в модальном окне оплаты (списание, проверка балансов)
  - [Medium · 2 h] Функционал модального окна обратной связи после внесения оплаты

- **Клиенты и абонементы**
  - [High · 4 h] Функционал модального окна добавления абонемента (привязка к клиенту, сценарию и срокам)
  - [Medium · 3 h] Модалка добавления абонемента (Репетиционная точка/Музыкальный класс): функционал выбора «Клиент/Группа» (загрузка списка, сохранение, валидации)
  - [Medium · 2 h] Функционал модального окна обратной связи после добавления клиента
  - [High · 10 h] Модель абонемента «Музыкальная школа»: направления (not null, любое количество), услуга специалиста, номинал (кол-во услуг), стоимость, активность, срок действия, название
  - [High · 10 h] Модель абонемента «Репетиционная точка/Музыкальный класс»: тариф, номинал (кол-во тарифов), стоимость, активность, срок действия, название
  - [High · 6 h] Модалка добавления абонемента: сценарная логика (какие поля/модели используются в зависимости от выбранного сценария на главной)
  - [High · 6 h] Информация об абонементах клиента: API/эндпоинт + модалка «Абонементы клиента» (сценарно‑зависимый список)
  - [High · 4 h] Модалки создания/редактирования брони: поле «Абонемент» кликабельно (как история оплат) и открывает «Абонементы клиента»

- **Авторизация и сессии**
  - [High · 3 h] Функционал авторизации по шаблону окна (валидация, создание сессии)

- **Фавикон**
  - [Low · Ожидание от Кирилла] Фавикон (файл пришлёт Кирилл)

- **Деплой и миграция**
  - [High · 4 h] Анализ структуры базы данных старого приложения и разработка стратегии переноса совместно с заказчиком
  - [High · 8 h] Написание скриптов для автоматизации переноса данных из старой БД в новую (с согласованием моделей данных)
  - [High · 6 h] Деплой MVP версии приложения на сервер заказчика (настройка системы, установка служб, настройка бэкапов)
  - [High · 4 h] Перенос данных из старой БД в новую БД и первичная проверка корректности

## 3. Аналитика и отчётность

- [Medium · Ожидание данных] Черновик структуры аналитики (получить от Кирилла)
